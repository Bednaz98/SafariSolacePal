(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{88:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var r,s,a=n(7),c=n.n(a),i=n(0),o=n(4),u=n(2),l=Object(i.createContext)(void 0),j=n(5),f=n.n(j),x=n(90),d=Object(i.createContext)({theme:0,setTheme:function(){}});function b(e){switch(Object(i.useContext)(d).theme,e){case s.Text:case s.Button:return"";case s.Modal:case s.InputText:return"#aaaaaa";case s.B:case s.C:case s.D:case s.E:case s.F:default:return""}}!function(e){e[e.default=0]="default",e[e.other=1]="other"}(r||(r={})),function(e){e[e.Text=0]="Text",e[e.Button=1]="Button",e[e.Modal=2]="Modal",e[e.InputText=3]="InputText",e[e.B=4]="B",e[e.C=5]="C",e[e.D=6]="D",e[e.E=7]="E",e[e.F=8]="F"}(s||(s={}));var h=n(1);function O(e){e.onPress,e.title;return Object(h.jsx)(u.a,{style:{padding:3},children:Object(h.jsx)(x.a,{onPress:e.onPress,title:e.title,color:b(s.Button),disabled:e.disabled,testID:e.testID},e.key)})}var v=n(79);function p(e){var t,n,r,a,c=e.value,i=e.onChangeText,o=e.placeholder;if(void 0===c)throw new Error("You did not pass a value into one of your input text, pass the useState read only value here");if(!i)throw new Error("You did not pass an onChangeText to one of your input text, pass the useState function here ");if(!o)throw new Error("You did not put a placeholder into one of your input text, please add a default value that describes what the field will be used for");t=null==e?void 0:e.keyboardType;var l=null==(n=null==e?void 0:e.editable)||n,j=null!=(r=null==e?void 0:e.onChange)?r:function(e){var t=e.nativeEvent;t.eventCount,t.target,t.text},f=null!=(a=null==e?void 0:e.onContentSizeChange)?a:function(e){var t=e.nativeEvent.contentSize;t.width,t.height};return Object(h.jsx)(u.a,{style:{backgroundColor:b(s.InputText),padding:3},children:Object(h.jsx)(v.a,{value:c,onChangeText:i,placeholder:o,keyboardType:"default",editable:l,onChange:j,onContentSizeChange:f})})}var g,m=n(46);function y(e){var t,n=e.text;if(!n)throw new Error("You did not pass a text value into one of your text");var r=null!=(t=null==e?void 0:e.type)?t:g.General;return Object(h.jsx)(u.a,{style:{padding:3},children:Object(h.jsx)(m.a,{style:w(r),children:n})})}function w(e){switch(e){case g.Title:return{color:b(s.Text),fontSize:70};case g.Header:return{color:b(s.Text),fontSize:50};case g.General:default:return{color:b(s.Text),fontSize:20}}}function S(e){var t,n,r=null!=(t=null==e?void 0:e.height)?t:0,s=null!=(n=null==e?void 0:e.width)?n:0,a=e.minHeight,c=e.minWidth,i=e.maxHeight,o=e.maxWidth;return Object(h.jsx)(u.a,{style:{height:r,width:s,minHeight:a,minWidth:c,maxHeight:i,maxWidth:o}})}!function(e){e[e.Title=0]="Title",e[e.Header=1]="Header",e[e.General=2]="General"}(g||(g={}));var R=n(91);function T(){var e=Object(i.useState)(!1),t=c()(e,2),n=t[0],r=t[1],s=Object(i.useState)(null),a=c()(s,2),o=a[0],l=a[1];function j(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(R.a());case 2:"cancel"!==(e=t.sent).type&&l(e);case 4:case"end":return t.stop()}}),null,null,null,Promise)}function x(){var e=Object(i.useState)(""),t=c()(e,2),n=t[0],s=t[1];return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(S,{width:400}),Object(h.jsx)(y,{text:"Submit a Problem",textType:g.Title}),Object(h.jsx)(S,{height:5}),Object(h.jsx)(p,{value:n,onChangeText:s,placeholder:"Problem description"}),Object(h.jsx)(S,{height:5}),o?Object(h.jsx)(O,{onPress:function(){l(null)},title:"Un-Attach Image"}):Object(h.jsx)(O,{onPress:j,title:"Attach Image"}),Object(h.jsx)(O,{onPress:function(){!function(e){var t,n,s;f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t={id:"",submittedTime:0,desc:e,status:"Unreviewed"},a.prev=1,!o){a.next=12;break}return(n=new FormData).append("myFile",JSON.parse(JSON.stringify({name:o.name,uri:o.uri,type:o.mimeType}))),a.next=7,f.a.awrap(fetch("http://8f75-209-159-236-212.ngrok.io/upload",{method:"POST",body:n}));case 7:return s=a.sent,a.next=10,f.a.awrap(s.text());case 10:t.photoLink=a.sent,l(null);case 12:return a.next=14,f.a.awrap(fetch("https://safarisolaceproblem.azurewebsites.net/api/ProblemIngestion?",{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 14:200===a.sent.status?alert("Problem Submitted Successfully"):alert("THERE WAS AN ERROR SUBMITTING PROBLEM!"),a.next=20;break;case 18:a.prev=18,a.t0=a.catch(1);case 20:r(!0);case 21:case"end":return a.stop()}}),null,null,[[1,18]],Promise)}(n)},title:"Submit form"})]})}function d(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"Thank you you for lettings us know",textType:g.Title}),Object(h.jsx)(y,{text:"Your report has been sent to a manager for review. We hope to fix any inconvenient as soon as possible.",textType:g.Title}),Object(h.jsx)(O,{title:"Submit another problem?",onPress:function(){r(!1)}})]})}return Object(h.jsx)(u.a,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)((function(){return n?Object(h.jsx)(d,{}):Object(h.jsx)(x,{})}),{})})}var P=n(13),D=n.n(P),k=n(14),C=n.n(k),L=function(){function e(){D()(this,e),this.context=Object(i.useContext)(l)}return C()(e,[{key:"getLocalReservation",value:function(){return this.context.reservationData}},{key:"setLocalReservation",value:function(e){return this.context.setReservationData(e),!0}},{key:"getLocalOfferings",value:function(){return this.context.serverOfferings?this.context.serverOfferings:[]}},{key:"setLocalOfferings",value:function(e){return this.context.setServerOfferings(e),!0}},{key:"getUserOfferings",value:function(){var e=this.context.userOfferings;return console.log("\ud83d\ude80 ~ file: localhandler.ts ~ line 29 ~ LocalHandler ~ getUserOfferings ~ returnArray",e),e.length>0?e:[]}},{key:"setUserOfferings",value:function(e){return this.context.setUserOfferings(e),!0}},{key:"deleteUserOffering",value:function(e){var t=this.context.userOfferings.slice(e,1);return this.context.setUserOfferings(t),!0}}]),e}(),A=n(21),U=n.n(A),I=function(){function e(t){D()(this,e),this.useURL="http://20.124.74.192:3000",this.localHandler=new L,this.devMode=t,console.log("\ud83d\ude80 ~ file: http-handler.ts ~ line 56 ~ httpHandler ~ constructor ~ this.devMode",this.devMode)}return C()(e,[{key:"getURL",value:function(){return this.devMode?"https://c694890a-a61f-4a7d-b7d5-10d29c28c10c.mock.pstmn.io":this.useURL}},{key:"getReservations",value:function(e){var t,n,r;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f.a.awrap(U.a.get(this.getURL()+"/reservations/:"+e));case 2:return t=s.sent,n=t.data,r=t,console.log("\ud83d\ude80 ~ file: http-handler.ts ~ line 63 ~ httpHandler ~ getReservations ~ data",n),console.log("\ud83d\ude80 ~ file: http-handler.ts ~ line 64 ~ httpHandler ~ getReservations ~ altData",r),s.abrupt("return",n);case 8:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"getActivities",value:function(e){var t,n,r;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e){s.next=8;break}return s.next=3,f.a.awrap(U.a.get(this.getURL()+"/activities/:"+e));case 3:return t=s.sent,n=t.data,s.abrupt("return",n);case 8:return s.next=10,f.a.awrap(U.a.get(this.getURL()+"/activities"));case 10:return t=s.sent,r=t.data,s.abrupt("return",r);case 13:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"getRoomOfferings",value:function(e){var t,n,r,s;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=9;break}return a.next=3,f.a.awrap(this.getRoomServiceRequests("servicebyid"));case 3:return t=a.sent,n=t,console.log("\ud83d\ude80 ~ file: http-handler.ts ~ line 88 ~ httpHandler ~ getRoomOfferings ~ offerings",n.requestedOffering),a.abrupt("return",n.requestedOffering);case 9:return a.next=11,f.a.awrap(U.a.get(this.getURL()+"/offerings"));case 11:return r=a.sent,s=r.data,a.abrupt("return",s);case 14:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"getRoomServiceRequests",value:function(e){var t,n,r;return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e){s.next=9;break}return s.next=3,f.a.awrap(U.a.get(this.getURL()+"/servicerequests/:"+e));case 3:return t=s.sent,console.log("\ud83d\ude80 ~ file: http-handler.ts ~ line 103 ~ httpHandler ~ getRoomServiceRequests ~ response",t),n=t.data,s.abrupt("return",n);case 9:return s.next=11,f.a.awrap(U.a.get(this.getURL()+"/servicerequests"));case 11:return t=s.sent,r=t.data,s.abrupt("return",r);case 14:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"postServiceRequest",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(U.a.post(this.getURL()+"/servicerequests",e));case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),null,this,[[0,6]],Promise)}},{key:"cancelServiceRequest",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(U.a.post(this.getURL()+"/servicerequests",e));case 2:return t="derp",n.t0=this.localHandler,n.next=6,f.a.awrap(this.getRoomOfferings("must_be_unique"));case 6:return n.t1=n.sent,n.t0.setUserOfferings.call(n.t0,n.t1),n.abrupt("return",t);case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"syncApp",value:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.localHandler,t.next=3,f.a.awrap(this.getReservations(e));case 3:return t.t1=t.sent,t.t0.setLocalReservation.call(t.t0,t.t1),t.t2=this.localHandler,t.next=8,f.a.awrap(this.getRoomOfferings());case 8:return t.t3=t.sent,t.t2.setLocalOfferings.call(t.t2,t.t3),t.t4=this.localHandler,t.next=13,f.a.awrap(this.getRoomOfferings("must_be_unique"));case 13:return t.t5=t.sent,t.t4.setUserOfferings.call(t.t4,t.t5),t.abrupt("return",!0);case 16:case"end":return t.stop()}}),null,this,null,Promise)}}]),e}();function E(e){var t=Object(i.useState)(""),n=c()(t,2),r=n[0],s=n[1],a=Object(i.useState)(!1),o=c()(a,2),j=o[0],x=o[1],d=Object(i.useState)(!1),b=c()(d,2),v=(b[0],b[1]),m=Object(i.useState)(!0),w=c()(m,2),S=(w[0],w[1]),R=Object(i.useState)(0),T=c()(R,2),P=(T[0],T[1],new I(!0)),D=Object(i.useContext)(l);function k(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return j||x(!0),e.prev=1,console.log("try login pressed"),v(!1),e.next=6,f.a.awrap(P.syncApp(r));case 6:D.setPage(1),console.log("context reservation data in login-page is ",D.reservationData),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("sync app failed",e.t0),v(!0),S(!1);case 15:case"end":return e.stop()}}),null,null,[[1,10]],Promise)}function C(){return Object(h.jsx)(O,{title:"Login with Reservation",onPress:k})}return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"Welcome To Safari SolaceStyle Resorts",textType:g.Title}),Object(h.jsx)(y,{text:"Please Enter your Reservation ID",textType:g.Header}),Object(h.jsx)(p,{value:r,placeholder:"1234",onChangeText:s}),Object(h.jsx)((function(){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(C,{})]})}),{})]})}function H(){var e=Object(i.useContext)(l);return console.log("\ud83d\ude80 ~ file: reservation-homepage.tsx ~ line 9 ~ ReservationHomePage ~ context",e),console.log("\ud83d\ude80 ~ file: reservation-homepage.tsx ~ line 9 ~ ReservationHomePage ~ context.reservationdata ID",e.reservationData.id),console.log("\ud83d\ude80 ~ file: reservation-homepage.tsx ~ line 9 ~ ReservationHomePage ~ context offerings by id",e.userOfferings),Object(h.jsxs)(u.a,{children:[Object(h.jsx)((function(){var t;return Object(h.jsxs)(u.a,{style:{flexDirection:"row"},children:[Object(h.jsx)(y,{text:"Room Name: "}),Object(h.jsx)(y,{text:null!=(t=e.reservationData.room)?t:"N/A"})]})}),{}),Object(h.jsx)((function(){var t;return Object(h.jsxs)(u.a,{style:{flexDirection:"row"},children:[Object(h.jsx)(y,{text:"Reservation ID:  "}),Object(h.jsx)(y,{text:null!=(t=e.reservationData.id)?t:"N/A"})]})}),{}),Object(h.jsx)((function(){var t,n;return Object(h.jsxs)(u.a,{style:{flexDirection:"row"},children:[Object(h.jsx)(y,{text:"Check In Time: "}),Object(h.jsx)(y,{text:new Date(null!=(t=e.reservationData.checkIn)?t:"N/A").toDateString()+" At: "+new Date(null!=(n=e.reservationData.checkIn)?n:"N/A").toLocaleTimeString()})]})}),{}),Object(h.jsx)((function(){var t,n;return Object(h.jsxs)(u.a,{style:{flexDirection:"row"},children:[Object(h.jsx)(y,{text:"Check Out Time: "}),Object(h.jsx)(y,{text:new Date(null!=(t=e.reservationData.checkOut)?t:"N/A").toDateString()+" At: "+new Date(null!=(n=e.reservationData.checkOut)?n:"N/A").toLocaleTimeString()})]})}),{})]})}function F(e){var t=e.navFunc;return Object(h.jsxs)(u.a,{style:{flexDirection:"row"},children:[Object(h.jsx)(O,{title:"Reservation",onPress:function(){return t(1)}}),Object(h.jsx)(O,{title:"Your Orders",onPress:function(){return t(2)}}),Object(h.jsx)(O,{title:"Room Service",onPress:function(){return t(3)}}),Object(h.jsx)(O,{title:"Events",onPress:function(){return t(4)}}),Object(h.jsx)(O,{title:"Report a Problem",onPress:function(){return t(5)}})]})}var q=n(20),N=n.n(q),M=n(30),B=n(89);function z(e){var t,n=e.child,r=null!=(t=null==e?void 0:e.openTitle)?t:"null open title",a=Object(i.useState)(!1),l=c()(a,2),j=l[0],f=l[1],x=o.a.create({modalView:{flexDirection:"column",margin:20,backgroundColor:b(s.Modal),borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0}}});return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(B.a,{animationType:"slide",transparent:!0,visible:j,onRequestClose:function(){f(!j)},children:Object(h.jsx)(u.a,{style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22,backgroundColor:b(s.Modal)},children:Object(h.jsxs)(u.a,{style:x.modalView,children:[Object(h.jsx)(u.a,{children:n}),Object(h.jsx)(u.a,{children:Object(h.jsx)(O,{title:"close",onPress:function(){f(!j)}})})]})})}),Object(h.jsx)(O,{title:r,onPress:function(){f(!0)}})]})}function W(e){var t=e.title,n=e.desc,r=e.startTime,s=e.endTime,a=e.location,c=e.status;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(z,{child:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{text:"Title: "+t}),Object(h.jsx)(y,{text:"Description: "+n}),Object(h.jsx)(y,{text:"Start Time: "+new Date(1e3*r).toDateString()+" At: "+new Date(1e3*r).toLocaleTimeString()}),Object(h.jsx)(y,{text:"End Time: "+new Date(1e3*(s+604800)).toDateString()+" At: "+new Date(1e3*(s+604800)).toLocaleTimeString()}),Object(h.jsx)(y,{text:"Location: "+a}),Object(h.jsx)(y,{text:"Status: "+c})]}),openTitle:t})})}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(){var e=new I(!0),t=Object(i.useState)([]),n=c()(t,2),r=n[0],s=n[1];Object(i.useEffect)((function(){!function(){var t;f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(e.getActivities());case 2:t=n.sent,s(t);case 5:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var a=r.map((function(e){return Object(h.jsx)(W,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.id)}));return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"Available Activities"}),Object(h.jsx)(M.a,{children:a})]})}var J=n(47),_=n(34),V=n.n(_);function $(){new I(!0);var e=new L,t=Object(i.useState)([]),n=c()(t,2),r=n[0],s=n[1];return Object(i.useEffect)((function(){s(e.getLocalOfferings())}),[]),Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"All Room Service Offerings"}),Object(h.jsx)(J.a,{data:r,keyExtractor:function(e){return V()()},renderItem:function(e){var t=e.item;return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:t.desc}),Object(h.jsx)(y,{text:"$"+t.cost}),Object(h.jsx)(O,{onPress:void 0,title:"Add"})]})}})]})}function K(){new I(!0);var e=new L,t=e.getUserOfferings();console.log("\ud83d\ude80 ~ file: user-roomSrv.tsx ~ line 16 ~ UserRoomServiceOrder ~ userOfferings",t);var n=Object(i.useState)(t),r=c()(n,2),s=r[0];r[1];return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"Room Service Options"}),Object(h.jsx)(J.a,{data:s,keyExtractor:function(e){return V()()},renderItem:function(t){var n,r,s=t.item,a=t.index;return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:null!=(n=s.desc)?n:"Example"}),Object(h.jsx)(y,{text:"$"+s.cost}),Object(h.jsx)(O,{onPress:(r=a,void e.deleteUserOffering(r)),title:"Remove"})]})}})]})}var Q=n(87);function X(){return Object(h.jsxs)(u.a,{children:[Object(h.jsx)(y,{text:"Connecting to Server"}),Object(h.jsx)(Q.a,{})]})}function Z(){var e=Object(i.useState)(r.default),t=c()(e,2),n=t[0],s=t[1],a=Object(i.useState)(0),o=c()(a,2),j=o[0],f=o[1],x=Object(i.useState)(),b=c()(x,2),O=b[0],v=b[1],p=Object(i.useState)(),g=c()(p,2),m=g[0],y=g[1],w=Object(i.useState)(),S=c()(w,2),R=S[0],P=S[1],D=Object(i.useState)(),k=c()(D,2),C={reservationData:O,setReservationData:v,serverOfferings:m,setServerOfferings:y,userOfferings:R,setUserOfferings:P,availableActivities:k[0],setAvailableActivities:k[1],setPage:f},L={theme:n,setTheme:s};function A(){return Object(h.jsx)(F,{navFunc:f})}return Object(h.jsx)(u.a,{style:ee.container,children:Object(h.jsx)(l.Provider,{value:C,children:Object(h.jsx)(d.Provider,{value:L,children:Object(h.jsx)((function(){switch(j){case 0:return Object(h.jsx)(E,{setPageIndex:f});case 1:return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)(H,{})," "]});case 2:return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)(K,{})]});case 3:return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)($,{})]});case 4:return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)(G,{})]});case 5:return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)(T,{})]});default:return Object(h.jsx)(X,{})}}),{})})})})}var ee=o.a.create({container:{flex:1,backgroundColor:"#999",alignItems:"center",justifyContent:"center"}})},92:function(e,t,n){e.exports=n(137)}},[[92,1,2]]]);
//# sourceMappingURL=app.f40688ac.chunk.js.map